{"ast":null,"code":"import _regeneratorRuntime from\"C:/Chatlix/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Chatlix/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Chatlix/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Chatlix/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Button from'../../components/Button';import Input from'../../components/Input';import{useNavigate}from'react-router-dom';// const flatted = require('flatted');\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Form=function Form(_ref){var _ref$isSignInPage=_ref.isSignInPage,isSignInPage=_ref$isSignInPage===void 0?true:_ref$isSignInPage;var _useState=useState(_objectSpread(_objectSpread({},!isSignInPage&&{name:''}),{},{email:'',mobile:'',password:''})),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,resData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(data);e.preventDefault();_context.next=4;return fetch(\"http://localhost:8000/api/\".concat(isSignInPage?'login':'register'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});case 4:res=_context.sent;if(!(res.status===400)){_context.next=9;break;}alert('Invalid Credentials!');_context.next=13;break;case 9:_context.next=11;return res.json();case 11:resData=_context.sent;if(resData.token){localStorage.setItem('user:token',resData.token);localStorage.setItem('user:details',JSON.stringify(resData.user));navigate('/');}case 13:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"bg-light h-screen flex justify-center items-center \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white w-[600px] h-[800px] shadow-lg rounded-lg flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold mb-2\",children:[\"WELCOME \",isSignInPage&&\"BACK\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-light mb-8\",children:[isSignInPage&&\"LOG IN\",!isSignInPage&&\"SIGN UP\",\" NOW\"]}),/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-col justify-center items-center w-full \",onSubmit:function onSubmit(e){return handleSubmit(e);},children:[!isSignInPage&&/*#__PURE__*/_jsx(Input,{label:\"Full Name\",name:\"name\",placeholder:\"Enter your name\",className:\"mb-6\",value:data.name,onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{name:e.target.value}));}}),/*#__PURE__*/_jsx(Input,{label:\"Email\",name:\"email\",type:\"email\",placeholder:\"Enter your email\",className:\"mb-6\",value:data.email,onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{email:e.target.value}));}}),/*#__PURE__*/_jsx(Input,{label:\"Mobile Number\",name:\"mobile\",placeholder:\"Enter your Mobile Number\",className:\"mb-6\",value:data.mobile,onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{mobile:e.target.value}));}}),/*#__PURE__*/_jsx(Input,{label:\"Password\",name:\"password\",placeholder:\"Enter your Password\",className:\"mb-8\",value:data.password,onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{password:e.target.value}));}}),/*#__PURE__*/_jsx(Button,{label:isSignInPage?\"Log In\":\"Sign Up\",className:\"mb-5\",type:\"submit\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[isSignInPage?\"Create an Account \":\"Already have an account? \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary cursor-pointer underline\",onClick:function onClick(){return navigate(\"/users/\".concat(isSignInPage?'sign_up':'sign_in'));},children:isSignInPage?\"Sign Up\":\"Sign In\"})]})]})});};export default Form;","map":{"version":3,"names":["React","useState","Button","Input","useNavigate","jsxs","_jsxs","jsx","_jsx","Form","_ref","_ref$isSignInPage","isSignInPage","_useState","_objectSpread","name","email","mobile","password","_useState2","_slicedToArray","data","setData","navigate","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","res","resData","wrap","_callee$","_context","prev","next","console","log","preventDefault","fetch","concat","method","headers","body","JSON","stringify","sent","status","alert","json","token","localStorage","setItem","user","stop","_x","apply","arguments","className","children","onSubmit","label","placeholder","value","onChange","target","type","onClick"],"sources":["C:/Chatlix/client/src/modules/form/index.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport Button from '../../components/Button';\r\nimport Input from '../../components/Input';\r\nimport { useNavigate } from 'react-router-dom';\r\n// const flatted = require('flatted');\r\nconst Form = ({\r\n  isSignInPage= true,\r\n}) => {\r\n  const [data, setData] = useState({\r\n    ...(!isSignInPage && {\r\n      name:'',\r\n    }),\r\n    email:'',\r\n    mobile:'',\r\n    password:''\r\n  });\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e)=> {\r\n    console.log(data)\r\n    e.preventDefault();\r\n      const res = await fetch(`http://localhost:8000/api/${isSignInPage ? 'login' : 'register'}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n      });\r\n      if(res.status === 400){\r\n        alert('Invalid Credentials!');\r\n      }\r\n      else{\r\n        const resData = await res.json();\r\n        if(resData.token){\r\n          localStorage.setItem('user:token', resData.token);\r\n          localStorage.setItem('user:details', JSON.stringify(resData.user));\r\n          navigate('/');\r\n        }\r\n      }\r\n  }\r\n  return (\r\n    <div className=\"bg-light h-screen flex justify-center items-center \">\r\n    <div className=\"bg-white w-[600px] h-[800px] shadow-lg rounded-lg flex flex-col justify-center items-center\">\r\n    <div className=\"text-3xl font-bold mb-2\">WELCOME {isSignInPage && \"BACK\"}</div>\r\n    <div className=\"text-2xl font-light mb-8\">{isSignInPage && \"LOG IN\"}{!isSignInPage && \"SIGN UP\"} NOW</div>\r\n   <form className=\"flex flex-col justify-center items-center w-full \" onSubmit={(e)=> handleSubmit(e)}>\r\n    {!isSignInPage && <Input label=\"Full Name\" name=\"name\" placeholder=\"Enter your name\" className='mb-6' value ={data.name} onChange={(e)=>setData({...data, name:e.target.value})}   /> }\r\n    {<Input label=\"Email\" name=\"email\" type='email' placeholder=\"Enter your email\" className='mb-6' value ={data.email} onChange={(e)=>setData({...data, email:e.target.value})}/>}\r\n    <Input label=\"Mobile Number\" name=\"mobile\" placeholder=\"Enter your Mobile Number\" className='mb-6' value ={data.mobile} onChange={(e)=>setData({...data, mobile:e.target.value})}/>\r\n    <Input label=\"Password\" name=\"password\" placeholder=\"Enter your Password\" className='mb-8' value ={data.password} onChange={(e)=>setData({...data, password:e.target.value})}/>\r\n    <Button label={isSignInPage ? \"Log In\": \"Sign Up\"} className=\"mb-5\" type='submit'/>\r\n    </form>\r\n    <div>{isSignInPage ? \"Create an Account \": \"Already have an account? \"}<span className='text-primary cursor-pointer underline' onClick={()=>navigate(`/users/${isSignInPage ? 'sign_up' : 'sign_in'}`)}>{isSignInPage? \"Sign Up\":\"Sign In\"}</span></div>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Form;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}